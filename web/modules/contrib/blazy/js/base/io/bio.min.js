!function(e,i){"use strict";var t="Bio",s=e.dBlazy;s.isAmd?define([t,s,e],i):"object"==typeof exports?module.exports=i(t,s):e[t]=i(t,s)}(this||module||{},function(t,v,e){"use strict";v.isAmd&&window;var s,o=document,n=o,f={},r=0,b=0,d=0,a=0,u="b-bg",p=".media",y="addClass",h="removeClass",l=!1,c=25,m=i.prototype;function i(e){var i=v.extend(m,this);return i.name=t,i.options=s=v.extend({},v._defaults,e||{}),u=s.bgClass||u,c=s.validateDelay||c,p=s.parent||p,n=s.root||n,setTimeout(function(){i.reinit()}),i}function g(e,i){var t=this,s=t.options,o=t.count,n=t.ioObserver;r===o-1&&t.destroyQuietly(),n&&t.isLoaded(e)&&!e.bloaded&&s.isMedia&&(n.unobserve(e),e.bloaded=!0,r++),e.bhit&&!i||(t.lazyLoad(e,f),a++,i=!(e.bhit=!0)),v.isFun(s.intersecting)&&s.intersecting(e,s),v.trigger(e,"bio.intersecting",{options:s})}function z(e){var r=this,d=r.options,a=v.vp,u=v.ww,i=e[0],l=v.isBlur(i),i=v.isResized(r,i),c=d.visibleClass;if(i)f=v.updateViewport(d),v.onresizing(r,f);else if(r.destroyed&&!c)return;v.each(e,function(e){var i=e.target||e,t=v.isResized(r,e),s=v.isVisible(e,a),o=v.closest(i,p)||i,n=r.isLoaded(i);v[s&&!n?y:h](o,"is-b-visible"),c&&v.isStr(c)&&v[s?y:h](o,c),s&&g.call(r,i),t&&0<b&&!l&&(b!==u&&r.resizing(i,f),r.resizeTick++),v.isFun(d.observing)&&d.observing(e,s,d)}),b=u}return m.constructor=i,m.count=0,m.erCount=0,m.resizeTick=0,m.lazyLoad=function(e,i){},m.loadImage=function(e,i,t){},m.resizing=function(e,i){},m.natively=function(){},m.windowData=function(){return v.isUnd(f.vp)?v.windowData(this.options,!0):f},m.load=function(e,i,t){var s=this;e=e&&v.toArray(e),v.isUnd(t)||(s.options=v.extend(s.options,t||{})),v.each(e,function(e){(s.isValid(e)||v.isElm(e)&&i)&&g.call(s,e,i)})},m.isLoaded=function(e){return v.hasClass(e,this.options.successClass)},m.isValid=function(e){return v.isElm(e)&&!this.isLoaded(e)},m.revalidate=function(e){var i=this;(!0===e||i.count!==a)&&d<a&&(i.elms=v.findAll(n,v.selector(i.options))).length&&(i.observe(!0),d++)},m.destroyQuietly=function(e){var i=this,t=i.options;i.destroyed||!e&&!v.isUnd(Drupal.io)||(t=v.find(o,v.selector(t,":not(."+t.successClass+")")),v.isElm(t)||i.destroy(e))},m.destroy=function(e){var i=this,t=i.options,s=i.ioObserver;i.destroyed||0<i.erCounted&&!e||(r===i.count-1&&t.disconnect||e)&&(s&&s.disconnect(),v.unload(i),i.count=0,i.elms=[],i.ioObserver=null,i.destroyed=!0)},m.observe=function(e){var i=this,t=i.elms;v.isIo&&(i.destroyed||e)&&(f=v.initObserver(i,z,t,!0),i.destroyed=!1),l&&!e||(v.observe(i,t,!0),l=!0)},m.reinit=function(){this.destroyed=!0,function(e){e.natively();var i=e.elms=v.findAll(n,v.selector(e.options));e.count=i.length,e._raf=[],e._queue=[],e.observe(!0)}(this)},i});
