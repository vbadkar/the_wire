!function(s,m,a,i,g){"use strict";var b,l=s("body"),d="litebox--on";function o(t){var e=a.colorbox||{},i=s(t),r=i.data("media")||{},o="video"===r.type,n="rich"===r.type&&"html"in r,t={html:n?r.html:null,rel:r.rel||null,iframe:o,title:function(){var t=i.next(".litebox-caption");return t.length?t.html():""},onComplete:function(){h(),l.addClass("colorbox-on colorbox-on--"+r.type),(o||n)&&(function(){g.clearTimeout(b);var a=e.maxWidth,l=e.maxHeight,d={width:r.width||a,height:r.height||l};b=g.setTimeout(function(){var t,e,i,o,n,h;s("#cboxOverlay").is(":visible")&&(t=s("#cboxLoadedContent"),e=s(".cboxIframe",t),i=s(".media--ratio",t),o=t.find("picture img"),((n=t.find("img[srcset]")).length||o.length)&&(h=o.length?o:n,g.setTimeout(function(){h.each(function(){this.complete?c.call(this):s(this).one("load",c)})},101),d={width:a||r.width,height:l||r.height}),!e.length&&i.length&&m.attachBehaviors(i[0]),e.length||i.length?e.length&&(t.addClass("media media--ratio"),e.attr("width",d.width).attr("height",d.height).addClass("media__element"),t.css({paddingBottom:d.height/d.width*100+"%",height:0})):(t.removeClass("media media--ratio"),t.css({paddingBottom:"",height:d.height}).removeClass("media__element")),s.colorbox.resize({innerWidth:d.width,innerHeight:d.height}))},10)}(),l.addClass(o?"colorbox-on--media":"colorbox-on--html"))},onClosed:function(){var t=s("#cboxContent").find(".media");t.length&&m.detachBehaviors(t[0]),h()}};function h(){l.removeClass(function(t,e){return(e.match(/(^|\s)colorbox-\S+/g)||[]).join(" ")})}function c(){var t=s(this),e=t.width(),i=t.height(),o=t.closest("#cboxLoadedContent"),n=o.width(),o=o.height();o<i?t.css("top",-(i-o)/2):i<o?(t.css({height:o,width:"auto"}),t.css("left",-(t.width()-n)/2)):e<n&&s.colorbox.resize({innerWidth:e,innerHeight:i})}i.colorbox(s.extend({},e,t)),i.addClass(d)}m.behaviors.blazyColorbox={attach:function(t){var e=a.colorbox;if(!i.isUnd(e)){if(e.mobiledetect&&g.matchMedia)if(g.matchMedia("(max-device-width: "+e.mobiledevicewidth+")").matches)return;t=i.context(t),i.once(o,"[data-colorbox-trigger]:not(.litebox--on)",t).length&&s("#colorbox").attr("aria-label","color box")}}}}(jQuery,Drupal,drupalSettings,dBlazy,this);
