!function(l,i,n){"use strict";var o="blazybox",d=o+"--on",s="."+o,r=s+"__content",c="is-"+o+"--open",h="visually-hidden",u="aria-hidden";function a(e){var a=i.blazyBox,t=l(e);a.el=e,(a.$el=t).on("click."+o,s+"__close",a.close,!0).addClass(d)}i.blazyBox={el:null,$el:null,options:{hideCloseBtn:!1},open:function(e){var a=i.blazyBox,t=a.$el,e=i.theme("blazyBoxMedia",{data:e});i.attachBehaviors(t[0]),t.removeClass(h).attr(u,!1).find(r).innerHTML=e,l.addClass(n.body,c),a.check()},close:function(e){var a=i.blazyBox.$el;l.isUnd(e)||e.preventDefault(),a.addClass(h).attr(u,!0).find(r).innerHTML="",l.removeClass(n.body,c),i.detachBehaviors(a[0])},check:function(){var e;this.options.hideCloseBtn&&(e=this.$el.find(s+"__close"),l.isElm(e)&&l.addClass(e,h))},attach:function(){l.isElm(l.find(n.body,s))||l.append(n.body,i.theme("blazyBox"))},isOpened:function(){return!i.blazyBox.$el.hasClass(h)}},i.theme.blazyBox=function(){return l.template('<div id="$id" class="$id visually-hidden" tabindex="-1" role="dialog" aria-hidden="true" aria-label="$id"><div class="$id__content"></div><button class="$id__close" data-role="none">&times;</button></div>',{id:o})},i.theme.blazyBoxMedia=function(e){var a=e.data,t=a,i="",i='<div class="media media--fullscreen">';return l.isObj(a)&&(a=(e=l(a.el||a.element)).attr("href"),t=e.attr("data-oembed-url",a,!0)),l.isStr(t)&&(i+='<iframe src="'+t+'" width="100%" height="100%" allowfullscreen></iframe>'),i+="</div>"},i.behaviors.blazyBox={attach:function(e){e=l.context(e),i.blazyBox.attach(),l.once(a,s+":not(."+d+")",e)}}}(dBlazy,Drupal,this.document);
