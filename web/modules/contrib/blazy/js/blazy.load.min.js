!function(o,i,n){"use strict";var l="blazy",c=l+"--on",t="b-checked",e="image",r="#drupal-modal, .is-b-scroll",d={};function s(a,t,i){var n,e=this,r=1<e.resizeTick,s=e.instances;s.length&&r&&(n=function(a){a.dblazy&&a.dbuniform&&(a.dblazy!==t.dblazy||a.dbpicture||(o.trigger(a,l+".uniform."+a.dblazy,{pad:i}),a.dbpicture=!0))},o.each(s,function(a){o.debounce(n,a,e)},e))}i.blazy=o.extend(i.blazy||{},{clearScript:function(a){o.hasClass(a,d.errorClass)&&!o.hasClass(a,t)&&(o.addClass(a,t),this.update(a,!0)),this.pad(a,s)},fixDataUri:function(){var a=o.findAll(this.context,this.selector('[src^="image"]'));a.length&&o.each(a,function(a){var t=o.attr(a,"src");o.contains(t,["base64","svg+xml"])&&o.attr(a,"src",t.replace(e,"data:"+e))})}}),i.behaviors.blazy={attach:function(a){var t=i.blazy,a=o.context(a);t.context=a,o.once(function(a){var t=this,i=o.parse(o.attr(a,"data-"+l)),n=o.hasClass(a,l+"--field block-grid "+l+"--uniform"),e=(1e4*Math.random()).toFixed(0),r=l+".uniform."+e,s=o.findAll(a,".media--ratio");d=t.merge(i),t.revalidate=t.revalidate||o.hasClass(a,l+"--revalidate"),o.addClass(a,c),a.dblazy=e,a.dbuniform=n,t.instances.push(a),n&&s.length&&o.on(a,r,function(a){var t=a.detail.pad||0;10<t&&o.each(s,function(a){a.style.paddingBottom=t+"%"})})}.bind(t),".blazy:not(.blazy--on)",a),o.once(function(a){var t=this,i={mobileFirst:!1};n.documentElement.isSameNode(a)||(i.root=a);a=(i=t.merge(i)).container;a&&!o.contains(r,a)&&(r+=", "+a.trim()),i.container=r,d=t.merge(i),t.fixDataUri(),t.init=t.run(t.options)}.bind(t),"html",a)}}}(dBlazy,Drupal,(drupalSettings,this.document));
